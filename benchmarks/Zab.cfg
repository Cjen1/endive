INIT Init
NEXT Next
CONSTANT 
    Server = {s1,s2,s3}
    LOOKING = LOOKING 
    FOLLOWING = FOLLOWING
    LEADING = LEADING
    ELECTION = ELECTION 
    DISCOVERY = DISCOVERY 
    SYNCHRONIZATION = SYNCHRONIZATION 
    BROADCAST = BROADCAST
    CEPOCH = CEPOCH 
    NEWEPOCH = NEWEPOCH 
    ACKEPOCH = ACKEPOCH 
    NEWLEADER = NEWLEADER 
    ACKLD = ACKLD 
    COMMITLD = COMMITLD 
    PROPOSE = PROPOSE 
    ACK = ACK 
    COMMIT = COMMIT
    Parameters = Params1
    NullPoint = Null
    MaxHistLen = 3
    MaxEpoch = 3
INVARIANT H_PrefixConsistency
INVARIANT Agreement
\* INVARIANT H_Leadership1
\* INVARIANT H_NEWLEADERMsgIsPrefixOfSenderLeader
INVARIANT H_NEWLEADERMsgSentByLeader
INVARIANT H_LeaderInLearnerSet
INVARIANT H_ACKEPOCHQuorumImpliesAcceptedEpochCorrect
INVARIANT H_CommittedEntryExistsInACKEPOCHQuorumHistory
INVARIANT H_NodeLOOKINGImpliesEmptyInputBuffer
INVARIANT H_COMMITSentByNodeImpliesZxidInLog
\* INVARIANT H_CommittedEntryExistsInACKEPOCHQuorumHistory
\* INVARIANT H_NodeLOOKINGImpliesInDISCOVERY
\* INVARIANT H_CommittedEntryExistsOnQuorum
INVARIANT H_PROPOSEMsgSentByNodeImpliesZxidInLog
INVARIANT H_TxnWithSameZxidEqualPeerHistory
INVARIANT TxnWithSameZxidEqualMsgsToPeerHistory

\* INVARIANT H_TxnWithSameZxidEqualBetweenLocalHistoryAndAllMessages
\* INVARIANT H_TxnWithSameZxidEqualBetweenAllMessages
INVARIANT H_LeaderinBROADCASTImpliesNoNEWLEADERorACKEInFlight

\* INVARIANT Eq1

\* INVARIANT H_CommittedEntryExistsInNEWLEADERHistory
\* INVARIANT H_ACKLDMsgImpliesZxidInLog
\* INVARIANT H_ServerInEntryAckSidImpliesHasEntry
\* INVARIANT H_ACKMsgInFlightImpliesNodesInBROADCAST
\* INVARIANT H_PROPOSEMsgInFlightImpliesNodesInBROADCAST
\* INVARIANT H_LeaderinBROADCASTImpliesNoNEWLEADERInFlight
\* INVARIANT H_PROPOSEMsgInFlightImpliesNodesInBROADCAST
INVARIANT H_LeaderInBROADCASTImpliesAckLDQuorum
INVARIANT H_LeaderInBROADCASTImpliesLearnerInBROADCAST
INVARIANT H_NEWLEADERHistoryExistsOnQuorum
INVARIANT H_ACKEPOCHHistoryContainedInFOLLOWINGSender
INVARIANT H_ACKMsgImpliesZxidInLog
INVARIANT H_NEWLEADERUniquePerEpoch
\* INVARIANT H_ACKLDMsgSentByFollower
INVARIANT H_NEWLEADERMsgHistAndStateInv
INVARIANT H_FollowersHaveNoMessagesSentToSelf

\* INVARIANT H_ACKMsgImpliesZxidInLog
\* INVARIANT H_ACKEPOCHQuorumImpliesLeaderInSYNCHRONIZATION
\* INVARIANT H_COMMITLDSentByNodeImpliesZxidCommittedInLog
\* INVARIANT H_TxnWithSameZxidEqual
\* INVARIANT UpdateAcksAreEquiv
\* INVARIANT H_NodeHistoryBoundByLastCommittedIndex
\* INVARIANT H_ACKLDSentByFollowerImpliesLogMatch
\* INVARIANT H_CommittedEntryExistsInLeaderHistory
\* INVARIANT H_NEWLEADERIncomingImpliesLastCommittedBound
\* INVARIANT H_LeaderInDiscoveryImpliesNoNEWLEADERMsgs
\* INVARIANT H_TxnWithSameZxidEqualInMessages
\* INVARIANT H_TxnWithSameZxidEqualBetweenLocalHistoryAndMessages
\* INVARIANT H_LeaderInBroadcastImpliesAllHistoryEntriesInEpoch
\* INVARIANT H_TxnWithSameZxidEqualInPROPOSEMessages
\* INVARIANT H_TxnWithSameZxidEqualBetweenLocalHistoryAndPROPOSEMessages
INVARIANT TxnWithSameZxidEqualInPeerHistory
\* INVARIANT H_TxnWithSameZxidEqualLocalToPeerHistory
INVARIANT H_AckLDRecvsAreConnected
\* INVARIANT H_LeaderImpliesNoPendingNEWEPOCHMsgs
\* INVARIANT UpdateAcksAreEquiv
\* INVARIANT DebugInv1

\* INVARIANT ZxidToIndexEquiv

SYMMETRY Symmetry